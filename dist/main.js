(()=>{"use strict";class t{constructor(){this.canvas=document.getElementById("myCanvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.style.cursor="none",this.resizeCanvas()}resizeCanvas(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}}class e extends t{constructor(t){super(t),this.posX=t.centerX,this.posY=t.centerY,this.ismoving=t.ismoving,this.ballRadius=t.ballradius}drawBall(){this.ctx.beginPath(),this.ctx.arc(this.posX,this.posY,this.ballRadius,0,2*Math.PI),this.ctx.fillStyle="#0095DD",this.ctx.fill(),this.ctx.closePath()}pushing(t){this.posY+=Math.sin(t.route)*t.speed,this.posX+=Math.cos(t.route)*t.speed,this.drawBall()}}const s=new t,i=(new class extends e{constructor(t){super(t),this.countBalls=t.countBalls,this.balls=[]}addBall(t){this.balls.push(t)}}({countBalls:1}),new class extends t{constructor(){super(),this.targetX=window.innerWidth/2,this.targetY=window.innerHeight/2,this.maxX=this.targetX,this.maxY=this.targetY,this.centerX=window.innerWidth/2,this.centerY=window.innerHeight-40,this.route=Math.atan2(this.targetY-this.centerY,this.targetX-this.centerX),this.ball=new e({centerX:this.centerX,centerY:this.centerY,ismoving:!1,ballradius:12}),this.maxlenght=100,this.speed=3}createStarter(){this.ctx.beginPath(),this.ctx.lineWidth=2,this.ctx.strokeStyle="black",this.ctx.setLineDash([7,16]),this.ctx.moveTo(this.centerX,this.centerY),this.ctx.lineTo(this.maxX,this.maxY),this.ctx.stroke(),this.ctx.closePath(),this.ball.drawBall()}reDraw(t){const e=Math.atan2(t.clientY-this.centerY,t.clientX-this.centerX);this.maxY=this.centerY+Math.sin(e)*this.maxlenght,this.maxX=this.centerX+Math.cos(e)*this.maxlenght,this.maxY<this.centerY&&(this.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),this.createStarter())}});setInterval((()=>{i.ball.ismoving&&(s.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),i.ball.pushing({speed:i.speed,route:i.route}))}),10),s.canvas.addEventListener("mousemove",(t=>{i.reDraw(t)}),!1),s.canvas.addEventListener("click",(()=>{i.route=Math.atan2(i.targetY-i.centerY,i.targetX-i.centerX),i.ball.ismoving=!0}),!1),window.addEventListener("resize",(()=>{s.resizeCanvas()}),!1)})();